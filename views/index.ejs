<html>
	<head>
		<title>BalajiGeek News</title>
		<script src="/javascripts/angular.min.js"></script>
		<script src="/javascripts/angular-ui-router.js"></script>
		<link href="/stylesheets/bootstrap.min.css" rel="stylesheet">

		<script src="/javascripts/angularApp.js"></script>
	</head>

	<body ng-app="balajinews" >
		
		
		<div class="row">
   			 <div class="container">
     			 <ui-view></ui-view>
   			 </div>
 		 </div>

 		 <script type="text/ng-template" id="/home.html">
 		 <nav class="navbar navbar-default " ng-controller="NavCtrl">
 		 <div class="container-fluid">
   				 <div class="navbar-header">
    				  <a class="navbar-brand" href="#">BalajiGeek News</a>
		    		</div>
		    <div>
		    <ul class="nav navbar-nav">
		      <li ng-show="isLoggedIn()"><a href="/#/addPost">Add Post</a></li>
		      <li ng-show="isLoggedIn()"><a href="" ng-click="logOut()">Log Out</a></li>
		      <li ng-hide="isLoggedIn()"><a href="/#/login">Log In</a></li>
		      <li ng-hide="isLoggedIn()"><a href="/#/register">Register</a></li>

		    </ul>
		  </nav>
	 		 <div class="page-header">
	 			  			   
	 			   
	 		 </div>

			<div class="well well-sm" ng-repeat="post in posts | orderBy: ['-createdAt','-upvotes']  ">

				<a href=""><span ng-click="incrementUpvotes(post)" class="glyphicon glyphicon-triangle-top"></span></a>
				<a ng-show="post.url" href="{{post.url}}">{{post.title}}</a> 
				<span ng-hide="post.url">{{post.title}}</span>
				<span ng-show="post.hostname"><small>({{post.hostname}})</small></span>
				<br> {{post.upvotes}} 
				-    
				<span ng-show="post.createdAt"><small>{{post.createdAt | date : 'M/d/yyyy'}}<small></span>
				
				

			</div>
			
			
		</script>	
 	
		<script type="text/ng-template" id="/post.html">
		<nav class="navbar navbar-default" ng-controller="NavCtrl">
			<div class="container-fluid">
   				 <div class="navbar-header">
    				  <a class="navbar-brand" href="#">BalajiGeek News</a>
		    		</div>
		    <div>
		    <ul class="nav navbar-nav">
		      <li ng-show="isLoggedIn()"><a href="/#/home">Home</a></li>
		      <li ng-show="isLoggedIn()"><a href="" ng-click="logOut()">Log Out</a></li>
		      <li ng-hide="isLoggedIn()"><a href="/#/login">Log In</a></li>
		      <li ng-hide="isLoggedIn()"><a href="/#/register">Register</a></li>

		    </ul>
		  </nav>
 			<div class="page-header">
	 			   
	 		 </div>		
			 <form ng-submit='addPost()'>
				<input type="text" class="form-control input-sm" placeholder="URL" ng-model="url"></input><br><br>
				<button ng-click='submit' class="btn btn-primary">Post</button>
			</form>
		</script>

		<script type="text/ng-template" id="/register.html">
			  <div class="page-header">
			    <h1>Flapper News</h1>
			  </div>

			  <div ng-show="error" class="alert alert-danger row">
			    <span>{{ error.message }}</span>
			  </div>

			  <form ng-submit="register()"
			    style="margin-top:30px;">
			    <h3>Register</h3>

			    <div class="form-group">
			      <input type="text"
			      class="form-control"
			      placeholder="Username"
			      ng-model="user.username"></input>
			    </div>
			    <div class="form-group">
			      <input type="password"
			      class="form-control"
			      placeholder="Password"
			      ng-model="user.password"></input>
			    </div>
			    <button type="submit" class="btn btn-primary">Register</button>
			  </form>
		</script>	
		<script type="text/ng-template" id="/error.html">
		<div class="page-header">
	 			   <h1>Balaji Geeky News</h1>
	 		 </div>	
			<div ng-hide="isLoggedIn()">
  				<h3>You need to <a href="/#/login">Log In</a> or <a href="/#/register">Register</a> before you can add a post or upvote an existing vote.
  				</h3>
			</div>
		</script>
		<script type="text/ng-template" id="/login.html">
			  <div class="page-header">
			    <h1>Flapper News</h1>
			  </div>

			  <div ng-show="error" class="alert alert-danger row">
			    <span>{{ error.message }}</span>
			  </div>

			  <form ng-submit="logIn()"
			    style="margin-top:30px;">
			    <h3>Log In</h3>

			    <div class="form-group">
			      <input type="text"
			      class="form-control"
			      placeholder="Username"
			      ng-model="user.username"></input>
			    </div>
			    <div class="form-group">
			      <input type="password"
			      class="form-control"
			      placeholder="Password"
			      ng-model="user.password"></input>
			    </div>
			    <button type="submit" class="btn btn-primary">Log In</button>
			    
			  </form>
  		</script>
 	 
	</body>
</html>